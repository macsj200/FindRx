<template name="glassInFindList">
    <!-- This will be repeated inside of the find this -->
     <a href="/glasses/{{this._id}}" class="list-group-item">
        <div class="row">
            <div class="col-md-4">
                <h4>
                    {{number}}
                </h4>
            </div>
            <div class="col-md-4">
                {{#with leftRx}}
                <h4 class="list-group-item-heading">Left</h4>
                    {{>rx}}
                {{/with}}
            </div>

            <div class="col-md-4">
                {{#with rightRx}}
                <h4 class="list-group-item-heading">Right</h4>
                    {{>rx}}
                {{/with}}
            </div>
        </div>
     </a>

</template>

<template name="rx">
  <p class="list-group-item-text">Sphere {{{this.sphere}}}</p>
  <p class="list-group-item-text">Cylinder {{{this.cylinder}}}</p>
  <p class="list-group-item-text">Axis {{this.axis}}</p>
</template>

<!-- Renders search results -->
<template name="possibleGlasses">
    <div class="row">

        {{> findGlassesForm }}

        <hr>

        <div class="col-md-12">
            <div class="list-group">
              {{#each glasses}}
                  <div class="col-md-6 glasses-panel " id="{{this.number}}">
                      <div class="panel panel-default panel-body">
                        <span class="fa fa-close fa-4x card-icon close" onclick='this.parentNode.parentNode.remove();'></span>
                        <a href="/glasses/{{this._id}}">
                            <img class="glasses-img center-block" src="http://pngimg.com/upload/glasses_PNG49.png"/>
                        </a>
                        <span class="fa fa-circle fa-2x card-icon match-rating" style="opacity:{{decimalToPercent cosSim}}"></span>
                        <p class="match-percent"><strong>{{decimalToPercent cosSim}}%</strong></p>
                      </div>
                  </div>
              {{/each}}
                <!-- {{> glasses }} -->
            </div>
        </div>
    </div>
</template>

<template name="findGlassesForm">
    {{#autoForm collection="Glasses" id="findGlass" type="update" omitFields="images,number,frame,lens"}}
    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">Left Eye</h4>
                </div>
                <div class="panel-body">
                    <fieldset>
                        {{> afQuickField name='leftRx.sphere'}}
                        {{> afQuickField name='leftRx.cylinder'}}
                        {{> afQuickField name='leftRx.axis'}}
                    </fieldset>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">Right Eye</h4>
                </div>
                <div class="panel-body">
                    <fieldset>
                        {{> afQuickField name='rightRx.sphere'}}
                        {{> afQuickField name='rightRx.cylinder'}}
                        {{> afQuickField name='rightRx.axis'}}
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-primary btn-submit center-block">Search</button>
    {{/autoForm}}
</template>

<!-- <template name="findGlasses">
    <div class="row">
      {{> quickForm collection="Glasses" id="findGlass" type="update" omitFields="images,number,frame,lens"}}
        <div class="col-md-12">
            <div class="list-group">
              {{#each glasses}}
              {{#with leftRx}}
                {{> rx}}
              {{/with}}

              {{#with rightRx}}
                {{> rx}}
              {{/with}}
              {{/each}} -->
                <!-- {{> glasses }} -->
            <!-- </div>
        </div>
    </div>
</template> -->

<!-- <template name="glasses">
    {{> pages}}
</template> -->
